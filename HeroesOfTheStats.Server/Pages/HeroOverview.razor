@page "/herooverview"
@inherits HeroOverviewBase

@if (Heroes == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <div>
        <label>Search:</label>
        <input type="text" id="searchBar" placeholder="Search for a hero" @bind-value="@SearchTerm" @bind-value:event="oninput" />
    </div>
    <div>
        <table>
            <colgroup>
                <col style="width:5%">
                <col style="width:30%">
                <col style="width:30%">
                <col style="width:30%">
                <col style="width:5%">
            </colgroup>
            <thead>
                <tr>
                    <th></th>
                    <th><strong>Hero</strong></th>
                    <th><strong>Win Rate</strong></th>
                    <th><strong>Role</strong></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var hero in FilteredHeroes)
                {
                    <tr>
                        <td class="hero-icon">
                            <img src="@($"/images/HeroIcons/{hero.Name}_square_tile.png")" alt="@($"{hero.ShortName}")" />
                        </td>
                        <td class="hero-detail">@hero.Name</td>
                        <td class="hero-detail">@hero.WinRate</td>
                        <td class="hero-detail">@hero.Role</td>
                        <td>
                            <a href="@($"herodetail/{hero.ShortName}")" class="btn btn-primary table-primary">Detail</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
